<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shreyas Deshmukh</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
        :root {
            --background-light: #f1f5f9;
            --text-light: #0f172a;
            --card-light: #ffffff;
            --border-light: #e2e8f0;
            --primary-light: #3b82f6;
            --primary-hover-light: #2563eb;

            --background-dark: #0f172a;
            --text-dark: #f1f5f9;
            --card-dark: #1e293b;
            --border-dark: #334155;
            --primary-dark: #60a5fa;
            --primary-hover-dark: #3b82f6;
        }

        .light {
            background-color: var(--background-light);
            color: var(--text-light);
        }

        .dark {
            background-color: var(--background-dark);
            color: var(--text-dark);
        }

        .card {
            background-color: var(--card-light);
            border: 1px solid var(--border-light);
        }

        .dark .card {
            background-color: var(--card-dark);
            border-color: var(--border-dark);
        }

        .nav-link {
            transition: color 0.3s;
        }

        .nav-link:hover {
            color: var(--primary-light);
        }

        .dark .nav-link:hover {
            color: var(--primary-dark);
        }
        
        .btn-primary {
            background-color: var(--primary-light);
            color: white;
            transition: background-color 0.3s, transform 0.2s;
        }
        .btn-primary:hover {
            background-color: var(--primary-hover-light);
            transform: scale(1.05);
        }
        .dark .btn-primary {
            background-color: var(--primary-dark);
            color: var(--background-dark);
        }
        .dark .btn-primary:hover {
            background-color: var(--primary-hover-dark);
        }
        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }


        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', sans-serif;
        }
        
        /* XO Game Styles */
        .xo-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            max-width: 300px;
            margin: 1.5rem auto;
        }
        .xo-cell {
            width: 100px;
            height: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3rem;
            font-weight: bold;
            cursor: pointer;
            border-radius: 0.5rem;
            transition: background-color 0.3s;
        }
        .light .xo-cell {
            background-color: var(--border-light);
        }
        .dark .xo-cell {
            background-color: var(--border-dark);
        }
        .light .xo-cell:hover {
            background-color: #cbd5e1;
        }
        .dark .xo-cell:hover {
            background-color: #475569;
        }
        .xo-cell.x { color: #ef4444; }
        .xo-cell.o { color: #3b82f6; }
        .thinking .xo-cell {
            cursor: wait;
        }

        /* Loading Spinner */
        .loader {
            border: 4px solid #f3f3f3;
            border-radius: 50%;
            border-top: 4px solid var(--primary-light);
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        .dark .loader {
            border-top: 4px solid var(--primary-dark);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

    </style>
</head>
<body class="transition-colors duration-300">

    <!-- Header -->
    <header class="sticky top-0 z-50 shadow-md">
        <div class="light card">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-16">
                    <div class="flex-shrink-0">
                        <a href="#" class="text-2xl font-bold">Shreyas Deshmukh</a>
                    </div>
                    <nav class="hidden md:flex items-center space-x-8">
                        <a href="#about" class="nav-link font-medium">About Me</a>
                        <a href="#skills" class="nav-link font-medium">Skills</a>
                        <a href="#achievements" class="nav-link font-medium">Achievements</a>
                        <a href="#xo-game" class="nav-link font-medium">Tic-Tac-Toe Game</a>
                    </nav>
                    <div class="flex items-center">
                        <button id="theme-toggle" class="p-2 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2">
                            <i data-feather="moon" class="dark-icon"></i>
                            <i data-feather="sun" class="light-icon hidden"></i>
                        </button>
                        <button id="mobile-menu-button" class="md:hidden p-2 rounded-md ml-2">
                            <i data-feather="menu"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="md:hidden hidden card">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#about" class="block px-3 py-2 rounded-md text-base font-medium nav-link">About Me</a>
                <a href="#skills" class="block px-3 py-2 rounded-md text-base font-medium nav-link">Skills</a>
                <a href="#achievements" class="block px-3 py-2 rounded-md text-base font-medium nav-link">Achievements</a>
                <a href="#xo-game" class="block px-3 py-2 rounded-md text-base font-medium nav-link">XO Game</a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">

        <!-- About Me Section -->
        <section id="about" class="mb-16 scroll-mt-16">
            <div class="card p-8 rounded-lg shadow-lg">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-3xl font-bold">About Me</h2>
                    <button id="generate-about-me" class="btn-primary font-bold py-2 px-4 rounded-lg flex items-center gap-2">
                        <span id="generate-about-me-text">✨ Generate with AI</span>
                        <div id="generate-about-me-loader" class="loader hidden"></div>
                    </button>
                </div>
                <div class="flex flex-col md:flex-row items-center gap-8">
                    <img src="https://placehold.co/150x150/60a5fa/ffffff?text=Me" alt="Your Name" class="rounded-full w-36 h-36 md:w-48 md:h-48 object-cover shadow-md">
                    <p id="about-me-text" class="text-lg leading-relaxed">
                        Hello! I'm a passionate developer with a love for creating beautiful and functional web applications. I specialize in front-end technologies and enjoy bringing ideas to life in the browser. When I'm not coding, you can find me exploring new technologies, reading, or playing a game of Tic-Tac-Toe!
                    </p>
                </div>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="mb-16 scroll-mt-16">
            <h2 class="text-3xl font-bold mb-6 text-center">My Skills</h2>
            <div id="skills-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <i data-feather="code" class="mx-auto h-12 w-12 mb-2"></i>
                    <h3 class="text-xl font-semibold">Full Stack Development</h3>
                </div>
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <i data-feather="figma" class="mx-auto h-12 w-12 mb-2"></i>
                    <h3 class="text-xl font-semibold">JavaScript</h3>
                </div>
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <i data-feather="database" class="mx-auto h-12 w-12 mb-2"></i>
                    <h3 class="text-xl font-semibold">React</h3>
                </div>
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <i data-feather="wind" class="mx-auto h-12 w-12 mb-2"></i>
                    <h3 class="text-xl font-semibold">Tailwind CSS</h3>
                </div>
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <i data-feather="git-branch" class="mx-auto h-12 w-12 mb-2"></i>
                    <h3 class="text-xl font-semibold">Git & GitHub</h3>
                </div>
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <i data-feather="server" class="mx-auto h-12 w-12 mb-2"></i>
                    <h3 class="text-xl font-semibold">Node.js</h3>
                </div>
                 <div class="card p-6 rounded-lg shadow-lg text-center">
                    <i data-feather="pen-tool" class="mx-auto h-12 w-12 mb-2"></i>
                    <h3 class="text-xl font-semibold">UI/UX Design</h3>
                </div>
                 <div class="card p-6 rounded-lg shadow-lg text-center">
                    <i data-feather="aperture" class="mx-auto h-12 w-12 mb-2"></i>
                    <h3 class="text-xl font-semibold">REST APIs</h3>
                </div>
            </div>
        </section>

        <!-- Achievements Section -->
        <section id="achievements" class="mb-16 scroll-mt-16">
            <h2 class="text-3xl font-bold mb-6 text-center">Achievements</h2>
            <div class="space-y-6">
                <div class="card p-6 rounded-lg shadow-lg flex items-center gap-4">
                    <i data-feather="award" class="h-8 w-8 text-yellow-500"></i>
                    <div>
                        <h3 class="text-xl font-semibold">Project of the Year</h3>
                        <p>Awarded for creating an innovative e-commerce platform.</p>
                    </div>
                </div>
                <div class="card p-6 rounded-lg shadow-lg flex items-center gap-4">
                    <i data-feather="github" class="h-8 w-8"></i>
                    <div>
                        <h3 class="text-xl font-semibold">Open Source Contributor</h3>
                        <p>Contributed to several popular open-source projects.</p>
                    </div>
                </div>
                <div class="card p-6 rounded-lg shadow-lg flex items-center gap-4">
                    <i data-feather="users" class="h-8 w-8"></i>
                    <div>
                        <h3 class="text-xl font-semibold">Tech Talk Speaker</h3>
                        <p>Presented on modern front-end frameworks at a local meetup.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- XO Game Section -->
        <section id="xo-game" class="scroll-mt-16">
            <h2 class="text-3xl font-bold mb-6 text-center">Play XO Game</h2>
            <div class="card p-8 rounded-lg shadow-lg">
                <div class="flex justify-center items-center mb-4 gap-4">
                    <label for="ai-toggle" class="font-medium">Play against AI ✨</label>
                    <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                        <input type="checkbox" name="ai-toggle" id="ai-toggle" class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
                        <label for="ai-toggle" class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"></label>
                    </div>
                </div>
                <div class="xo-grid" id="xo-board">
                    <!-- Cells will be generated by JS -->
                </div>
                <div id="xo-status" class="text-center text-xl font-medium mb-4 h-6"></div>
                <div class="text-center">
                    <button id="xo-restart" class="btn-primary font-bold py-2 px-4 rounded-lg">
                        Restart Game
                    </button>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="mt-16">
        <div class="card rounded-t-lg">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center">
                <div class="flex justify-center space-x-6 mb-4">
                    <a href="#" class="nav-link"><i data-feather="github"></i></a>
                    <a href="#" class="nav-link"><i data-feather="linkedin"></i></a>
                    <a href="#" class="nav-link"><i data-feather="twitter"></i></a>
                </div>
                <p>&copy; 2024 MyPortfolio. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // --- Theme Toggler ---
        const themeToggle = document.getElementById('theme-toggle');
        const htmlEl = document.documentElement;
        const lightIcon = document.querySelector('.light-icon');
        const darkIcon = document.querySelector('.dark-icon');

        if (localStorage.getItem('theme') === 'dark') {
            htmlEl.classList.add('dark');
            lightIcon.classList.remove('hidden');
            darkIcon.classList.add('hidden');
        } else {
            htmlEl.classList.remove('dark');
            lightIcon.classList.add('hidden');
            darkIcon.classList.remove('hidden');
        }

        themeToggle.addEventListener('click', () => {
            htmlEl.classList.toggle('dark');
            localStorage.setItem('theme', htmlEl.classList.contains('dark') ? 'dark' : 'light');
            lightIcon.classList.toggle('hidden');
            darkIcon.classList.toggle('hidden');
        });
        
        // --- Mobile Menu ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
            });
        });

        // --- Feather Icons ---
        feather.replace();

        // --- Gemini API Call Helper ---
        async function callGemini(prompt) {
            const apiKey = ""; // Leave empty, will be handled by the environment
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
            
            const payload = {
                contents: [{ role: "user", parts: [{ text: prompt }] }]
            };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`API call failed with status: ${response.status}`);
                }

                const result = await response.json();
                
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    return result.candidates[0].content.parts[0].text;
                } else {
                    console.error("Unexpected API response structure:", result);
                    return "Error: Could not generate content.";
                }
            } catch (error) {
                console.error("Error calling Gemini API:", error);
                return `Error: ${error.message}`;
            }
        }

        // --- AI "About Me" Generator ---
        const generateAboutMeBtn = document.getElementById('generate-about-me');
        const generateAboutMeText = document.getElementById('generate-about-me-text');
        const generateAboutMeLoader = document.getElementById('generate-about-me-loader');
        const aboutMeTextEl = document.getElementById('about-me-text');

        generateAboutMeBtn.addEventListener('click', async () => {
            generateAboutMeBtn.disabled = true;
            generateAboutMeText.classList.add('hidden');
            generateAboutMeLoader.classList.remove('hidden');
            
            const skills = Array.from(document.querySelectorAll('#skills-grid h3')).map(el => el.textContent);
            const prompt = `Write a professional and engaging "About Me" paragraph for a developer portfolio. The developer has the following skills: ${skills.join(', ')}. Write it in the first person. Keep it concise, around 3-4 sentences.`;

            const newAboutText = await callGemini(prompt);
            aboutMeTextEl.textContent = newAboutText;

            generateAboutMeBtn.disabled = false;
            generateAboutMeText.classList.remove('hidden');
            generateAboutMeLoader.classList.add('hidden');
        });


        // --- XO Game Logic ---
        const board = document.getElementById('xo-board');
        const statusEl = document.getElementById('xo-status');
        const restartBtn = document.getElementById('xo-restart');
        const aiToggle = document.getElementById('ai-toggle');
        
        let currentPlayer = 'X';
        let gameState = ['', '', '', '', '', '', '', '', ''];
        let gameActive = true;
        let isAiMode = false;
        
        const winningConditions = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8],
            [0, 3, 6], [1, 4, 7], [2, 5, 8],
            [0, 4, 8], [2, 4, 6]
        ];

        const handleCellClick = (e) => {
            const clickedCell = e.target;
            const clickedCellIndex = parseInt(clickedCell.getAttribute('data-index'));

            if (gameState[clickedCellIndex] !== '' || !gameActive) {
                return;
            }
            
            makeMove(clickedCellIndex, currentPlayer);

            if (gameActive && isAiMode && currentPlayer === 'O') {
                board.classList.add('thinking');
                statusEl.textContent = 'AI is thinking...';
                setTimeout(getAiMove, 500); // Small delay for better UX
            }
        };

        const makeMove = (index, player) => {
            if (gameState[index] !== '' || !gameActive) return;
            
            gameState[index] = player;
            document.querySelector(`.xo-cell[data-index='${index}']`).textContent = player;
            document.querySelector(`.xo-cell[data-index='${index}']`).classList.add(player.toLowerCase());
            
            checkResult();
        };

        const getAiMove = async () => {
            const prompt = `You are an expert Tic-Tac-Toe player. Your symbol is 'O'. The human player is 'X'.
            The current board state is represented by an array of 9 strings. Empty strings mean the cell is empty.
            Current board: [${gameState.map(c => `'${c}'`).join(', ')}]
            It is your turn. Choose the best possible move to win or draw.
            Respond with only the array index (0-8) of your chosen move. Do not provide any other text or explanation.`;

            const moveIndexStr = await callGemini(prompt);
            const moveIndex = parseInt(moveIndexStr.trim());

            board.classList.remove('thinking');

            if (!isNaN(moveIndex) && gameState[moveIndex] === '') {
                makeMove(moveIndex, 'O');
            } else {
                // Fallback if AI fails: make a random valid move
                let availableCells = gameState.map((val, idx) => val === '' ? idx : null).filter(val => val !== null);
                if (availableCells.length > 0) {
                    const randomMove = availableCells[Math.floor(Math.random() * availableCells.length)];
                    makeMove(randomMove, 'O');
                }
            }
        };

        const checkResult = () => {
            let roundWon = false;
            for (let i = 0; i < winningConditions.length; i++) {
                const winCondition = winningConditions[i];
                let a = gameState[winCondition[0]];
                let b = gameState[winCondition[1]];
                let c = gameState[winCondition[2]];
                if (a === '' || b === '' || c === '') continue;
                if (a === b && b === c) {
                    roundWon = true;
                    break;
                }
            }

            if (roundWon) {
                const winner = currentPlayer === 'O' && isAiMode ? 'AI (O)' : `Player ${currentPlayer}`;
                statusEl.textContent = `${winner} has won!`;
                gameActive = false;
                return;
            }

            if (!gameState.includes('')) {
                statusEl.textContent = `Game ended in a draw!`;
                gameActive = false;
                return;
            }

            currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
            const nextPlayer = currentPlayer === 'O' && isAiMode ? 'AI (O)' : `Player ${currentPlayer}`;
            statusEl.textContent = `It's ${nextPlayer}'s turn`;
        };

        const restartGame = () => {
            gameActive = true;
            currentPlayer = 'X';
            gameState = ['', '', '', '', '', '', '', '', ''];
            const nextPlayer = isAiMode ? 'your (X)' : `Player ${currentPlayer}`;
            statusEl.textContent = `It's ${nextPlayer}'s turn`;
            document.querySelectorAll('.xo-cell').forEach(cell => {
                cell.textContent = '';
                cell.classList.remove('x', 'o');
            });
            board.classList.remove('thinking');
        };
        
        aiToggle.addEventListener('change', () => {
            isAiMode = aiToggle.checked;
            restartGame();
        });

        const createBoard = () => {
            for (let i = 0; i < 9; i++) {
                const cell = document.createElement('div');
                cell.classList.add('xo-cell');
                cell.setAttribute('data-index', i);
                cell.addEventListener('click', handleCellClick);
                board.appendChild(cell);
            }
        };

        createBoard();
        restartBtn.addEventListener('click', restartGame);
        statusEl.textContent = `It's Player X's turn`;

    </script>
</body>
</html>
